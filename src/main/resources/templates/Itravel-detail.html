<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}">

<div layout:fragment="content">
    <!-- Titlul paginii -->
    <div class="page-title dark-background" th:style="|background-image: url('@{/walpaper/showcase-11.webp}');|">
        <div class="container position-relative">
            <h1>Bine ați venit la ITravel</h1>
            <p>Creează momente memorabile alături de noi.</p>
        </div>
    </div>

    <section id="detalii-destinatie" class="travel-destination-details section">
        <div class="container">

            <!-- Secțiunea Hero -->
            <div class="destination-hero">
                <div class="hero-content">
                    <h1 class="destination-name" th:text="${calatorie.name}">Numele Destinației</h1>
                    <p class="destination-tagline" th:text="${calatorie.continent}">Continent</p>
                </div>
                <div class="hero-image">
                    <img th:src="@{/uploads/{img}(img=${calatorie.image})}" th:alt="${calatorie.name}" class="img-fluid">
                </div>
            </div>

            <!-- Secțiunea Descriere -->
            <div class="destination-overview">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <div class="overview-content">
                            <h2>Descoperă Paradisul</h2>
                            <p class="destination-description" th:text="${calatorie.description != null ? calatorie.description : 'Fără descriere'}"></p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="overview-image">
                            <img th:src="@{/uploads/{img}(img=${calatorie.image})}" th:alt="${calatorie.name}" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Secțiunea Tururi Disponibile -->
            <div class="available-tours">
                <div class="section-header">
                    <h2>Tururi Disponibile</h2>
                    <p>Alege din experiențele noastre atent pregătite</p>
                </div>

                <div class="row gy-4" th:if="${calatorie.tours != null and !calatorie.tours.isEmpty()}">
                    <div class="col-lg-4 col-md-6" th:each="tour : ${calatorie.tours}">
                        <div class="tour-card">
                            <div class="tour-image">
                                <img th:src="@{/uploads/{img}(img=${tour.image})}" th:alt="${tour.title}" class="img-fluid">
                            </div>
                            <div class="tour-content">
                                <h4 th:text="${tour.title}">Titlu Tur</h4>
                                <p th:text="${tour.summary != null ? tour.summary : 'Fără descriere'}">Descriere Tur</p>
                                <div class="tour-meta">
                                    <span class="tour-price" th:utext="${tour.pricePoints != null ? tour.pricePoints + ' <i class=&quot;fa-regular fa-money-bill-1&quot;></i>' : '0 p'}">0 p</span>
                                </div>
                                <a th:href="@{/tours/{id}(id=${tour.id})}" class="btn-tour">Vezi Detalii <i class="bi bi-arrow-right"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <p th:if="${calatorie.tours == null or calatorie.tours.isEmpty()}">Nu există tururi disponibile pentru această destinație.</p>
            </div>

<!--            &lt;!&ndash; Secțiunea Galerie Foto &ndash;&gt;-->
<!--            <div class="destination-gallery" th:if="${calatorie.tours != null}">-->
<!--                <div class="section-header">-->
<!--                    <h2>Galerie Foto</h2>-->
<!--                    <p>Priveliști ale frumuseții naturale și bogăției culturale</p>-->
<!--                </div>-->
<!--                <div class="gallery-grid">-->
<!--                    <div class="gallery-item" th:each="img : ${calatorie.galleryImages}">-->
<!--                        <a th:href="@{/uploads/{img}(img=${img})}" class="glightbox">-->
<!--                            <img th:src="@{/uploads/{img}(img=${img})}" th:alt="${calatorie.name}" class="img-fluid">-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

            <!-- Secțiunea Call to Action -->
            <div class="destination-cta">
                <div class="cta-content">
                    <h2>Gata să pornești în călătoria ta?</h2>
                    <p>Lasă experții noștri în turism să te ajute să creezi experiența perfectă, adaptată preferințelor și bugetului tău.</p>
                    <div class="cta-actions">
                        <a th:href="@{/tours}" class="btn-primary">Explorează Tururile</a>

                        <!-- Buton Contactează Expertul -->
                        <a href="#" id="contact-expert-btn" class="btn-outline">
                            Contactează Expertul
                        </a>

                        <!-- Chat Box -->
                        <div id="chat-box" class="chat-text" style="display: none;">
                            <div id="chat-header">
                                Chat cu experții noștri
                                <span id="close-chat" style="cursor:pointer;">✖</span>
                            </div>
                            <div id="chat-messages"></div>
                            <input type="text" id="chat-input" placeholder="Scrie mesajul..." />
                            <span id="chat-username" style="display:none;" sec:authentication="name"></span>
                        </div>
                    </div>
                </div>
            </div>

            <script th:src="@{/js/chatBotDestinations.js}"></script>

                    </div>



    </section>
</div>
</html>

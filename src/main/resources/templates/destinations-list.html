<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<div layout:fragment="content">
  <!-- Titlul paginii -->
  <div class="page-title dark-background" th:style="|background-image: url('@{/walpaper/showcase-11.webp}');|">
    <div class="container position-relative">
      <h1>Bine ai venit la ITravel</h1>
      <p>Creează momente de neuitat alături de noi.</p>
    </div>
  </div><!-- Sfârșit Titlu Pagina -->


  <!-- Secțiunea Destinații de Călătorie -->
  <section id="travel-destinations" class="travel-destinations section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h2>Descoperă Destinații de Călătorie Incredibile</h2>
          <p class="mb-5">Alege destinația perfectă pentru următoarea ta aventură și transformă fiecare călătorie într-o experiență memorabilă. Descoperă locuri unice, cultură autentică și momente de neuitat.</p>

        </div>
      </div>

      <div class="isotope-layout" data-default-filter="*" data-layout="fitRows" data-sort="original-order">
        <div class="filter-tabs">
          <ul class="destination-filters isotope-filters">
            <li data-filter="*" class="filter-active">Toate</li>
            <li data-filter=".filter-asia">Asia</li>
            <li data-filter=".filter-europe">Europa</li>
            <li data-filter=".filter-africa">Africa</li>
            <li data-filter=".filter-america">Americi</li>
          </ul>
        </div>

        <div class="row gy-4 isotope-container destination-grid">
          <!-- Card mare pentru excursia recomandată -->
          <!-- Card mare pentru excursia recomandată -->
          <div class="col-lg-12 destination-item isotope-item filter-featured" th:if="${calatorii.size() > 0}">
            <div class="destination-large">
              <div class="destination-overlay">
                <img th:src="@{/uploads/{img}(img=${calatorii[0].image})}" th:alt="${calatorii[0].title}" class="img-fluid" loading="lazy">
                <div class="overlay-content">
                  <div class="badge-wrapper">
                    <span class="destination-tag featured">Recomandat</span>
                  </div>
                  <div class="content-wrapper">
                    <h3 th:text="${calatorii[0].title}">Titlu Excursie</h3>
                    <p class="destination-excerpt" th:text="${#strings.abbreviate(calatorii[0].summary, 150)}">Descriere excursie</p>
                    <div class="destination-info">
                      <div class="info-item">
                        <i class="bi bi-geo-alt"></i>
                        <span>10 Tururi</span>
                      </div>
                      <div class="price-tag" th:text="'Puncte: ' + ${calatorii[0].pricePoints}">Puncte</div>
                    </div>
                    <a th:href="@{/Itravel/{id}(id=${calatorii[0].id})}" class="explore-btn">
                      <span>Explorează</span>
                      <i class="bi bi-arrow-right"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Loop Thymeleaf pentru următoarele 12 excursii mici -->
          <div class="col-lg-4 col-md-6 destination-item isotope-item"
               th:each="c, iterStat : ${calatorii}"
               th:if="${iterStat.index > 0 and iterStat.index <= 12}"
               th:classappend="' filter-' + ${c.continent.cssClass}">

            <div class="destination-small">
              <div class="destination-overlay">
                <img th:src="@{/uploads/{img}(img=${c.image})}" th:alt="${c.title}" class="img-fluid" loading="lazy">
                <div class="overlay-content">
                  <div class="badge-wrapper">
                    <span class="destination-tag popular">Popular</span>
                  </div>
                  <div class="content-wrapper">
                    <h4 th:text="${c.title}">Titlu Excursie</h4>
                    <p class="destination-excerpt" th:text="${#strings.abbreviate(c.summary, 100)}">Descriere excursie</p>
                    <div class="destination-info">
                      <span class="tours-count">10 Tururi</span>
                      <span class="price black" th:text="'Puncte: ' + ${c.pricePoints}">Puncte</span>
                    </div>
                    <a th:href="@{/Itravel/{id}(id=${c.id})}" class="explore-btn">
                      <span>Explorează</span>
                      <i class="bi bi-arrow-right"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      </div>
    <div class="pagination-wrapper">
      <ul class="pagination justify-content-center">

        <!-- Pagina anterioară -->
        <li class="page-item" th:classappend="${page == 0} ? ' disabled'">
          <a class="page-link"
             th:href="@{/Destinations(page=${page > 0 ? page - 1 : 0})}">
            &laquo; Anterior
          </a>
        </li>

        <!-- Numerele paginilor -->
        <li class="page-item"
            th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
            th:classappend="${i == page} ? ' active'">
          <a class="page-link" th:href="@{/Destinations(page=${i})}"
             th:text="${i + 1}">1</a>
        </li>

        <!-- Pagina următoare -->
        <li class="page-item" th:classappend="${page == totalPages - 1} ? ' disabled'">
          <a class="page-link"
             th:href="@{/Destinations(page=${page < totalPages - 1 ? page + 1 : totalPages - 1})}">
            Următor &raquo;
          </a>
        </li>

      </ul>
    </div>


  </section><!-- Sfârșit Secțiune Destinații -->

</div>
</html>

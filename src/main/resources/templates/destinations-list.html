<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<div layout:fragment="content">
  <!-- Titlul paginii -->
  <div class="page-title dark-background" th:style="|background-image: url('@{/walpaper/showcase-11.webp}');|">
    <div class="container position-relative">
      <h1>Bine ai venit la ITravel</h1>
      <p>Creează momente de neuitat alături de noi.</p>
    </div>
  </div><!-- Sfârșit Titlu Pagina -->

  <!-- Secțiunea Destinații de Călătorie -->
  <section id="travel-destinations" class="travel-destinations section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h2>Descoperă Destinații de Călătorie Incredibile</h2>
          <p class="mb-5">
            Alege destinația perfectă pentru următoarea ta aventură și transformă fiecare călătorie într-o experiență memorabilă. Descoperă locuri unice, cultură autentică și momente de neuitat.
          </p>
        </div>
      </div>

      <div class="destinations-isotope" data-default-filter="*" data-layout="fitRows" data-sort="original-order">
        <div class="filter-tabs">
          <ul class="destination-filters">
            <li data-filter="*" class="filter-active">Toate</li>
            <li data-filter=".filter-asia">Asia</li>
            <li data-filter=".filter-europe">Europa</li>
            <li data-filter=".filter-africa">Africa</li>
            <li data-filter=".filter-america">Americi</li>
          </ul>
        </div>

        <div class="row gy-4 isotope-container destination-grid">
          <!-- Card mare pentru excursia recomandată -->
          <div class="col-lg-12 destination-item isotope-item filter-featured" th:if="${calatorii.size() > 0}">
            <div class="destination-large">
              <div class="destination-overlay">
                <img th:src="@{/uploads/{img}(img=${calatorii[0].image})}" th:alt="${calatorii[0].name}" class="img-fluid" loading="lazy">
                <div class="overlay-content">
                  <div class="badge-wrapper">
                    <span class="destination-tag featured">Recomandat</span>
                  </div>
                  <div class="content-wrapper">
                    <h3 class="tour-type" th:text="${calatorii[0].name}">Titlu Excursie</h3>
                    <p class="destination-excerpt tour-type" th:text="${#strings.abbreviate(calatorii[0].description, 100)}">Descriere excursie</p>
                    <div class="destination-info">
                      <div class="info-item ">
                        <i class="bi bi-geo-alt"></i>
                        <span class="tour-type" th:text="${calatorii[0].tours.size()} + ' Tururi'">10 Tururi</span>
                        <span class="tours-count tour-type" th:utext="${calatorii[0].minPrice > 0 ? 'De La ' + calatorii[0].minPrice +' <i class=&quot;fa-regular fa-money-bill-1&quot;></i>' : 'No tours available'}">0 points</span>
                      </div>
                    </div>
                    <a th:href="@{/Itravel/{id}(id=${calatorii[0].id})}" class="explore-btn">
                      <span>Explorează</span>
                      <i class="bi bi-arrow-right"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Loop pentru următoarele 12 excursii mici -->
          <div class="col-lg-4 col-md-6 destination-item isotope-item"
               th:each="c, iterStat : ${calatorii}"
               th:if="${iterStat.index > 0 and iterStat.index <= 12}"
               th:classappend="(${c.continent.name().toLowerCase()} == 'americas') ? ' filter-america' : ' filter-' + ${c.continent.name().toLowerCase()}">


          <div class="destination-small">
              <div class="destination-overlay">
                <img th:src="@{/uploads/{img}(img=${c.image})}" th:alt="${c.name}" class="img-fluid" loading="lazy">
                <div class="overlay-content">
                  <div class="badge-wrapper">
                    <span class="destination-tag popular">Popular</span>
                  </div>
                  <div class="content-wrapper">
                    <h4 class="tour-type" th:text="${c.name}">Titlu Excursie</h4>
                    <p class="destination-excerpt tour-type" th:text="${#strings.abbreviate(c.description, 50)}">Descriere excursie</p>
                    <div class="destination-info">
                      <span class="tours-count tour-type" th:text="${c.tours.size()} + ' Tururi'">10 Tururi</span>
                      <span class="tours-count tour-type" th:text="${c.minPrice > 0 ? 'De La ' + c.minPrice + ' p' : 'No tours available'}">0 points</span>
                    </div>

                    <a th:href="@{/Itravel/{id}(id=${c.id})}" class="explore-btn">
                      <span>Explorează</span>
                      <i class="bi bi-arrow-right"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="pagination-wrapper my-8">
      <ul class="pagination flex justify-center items-center gap-2">

        <!-- Prev -->
        <li>
          <a class="page-link px-4 py-2 rounded-lg bg-[var(--accent-color)] text-[var(--contrast-color)] font-semibold shadow-md transition-all duration-200 hover:scale-105 hover:shadow-xl"
             th:href="@{|/destinations?page=${page > 0 ? page - 1 : 0}|}">
            &laquo; Anterior
          </a>
        </li>

        <!-- Page numbers -->
        <li th:each="i : ${#numbers.sequence(0, totalPages - 1)}">
          <a class="page-link px-4 py-2 rounded-lg font-semibold transition-all duration-200
                    hover:scale-110 hover:shadow-lg"
             th:href="@{'/destinations?page=' + ${i}}"
             th:text="${i + 1}"
             th:classappend="${i == page} ? ' bg-[var(--accent-color)] text-[var(--contrast-color)] shadow-xl' : ' bg-white text-[var(--accent-color)] border border-[var(--accent-color)]'">
          </a>
        </li>

        <!-- Next -->
        <li>
          <a class="page-link px-4 py-2 rounded-lg bg-[var(--accent-color)] text-[var(--contrast-color)] font-semibold shadow-md transition-all duration-200 hover:scale-105 hover:shadow-xl"
             th:href="@{|/destinations?page=${page < totalPages - 1 ? page + 1 : totalPages - 1}|}">
            Următor &raquo;
          </a>
        </li>

      </ul>
    </div>

  </section><!-- Sfârșit Secțiune Destinații -->

</div>
</html>
